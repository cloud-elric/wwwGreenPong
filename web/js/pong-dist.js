function setCourt(){ctx.fillStyle="#FFFFFF",ctx.fillRect(0,0,600,300),ctx.drawImage(court,0,0,600,300)}function setPlayer(){playerHit?(ctx.fillStyle="#FF0000",playerHit=!1):ctx.fillStyle="#FFFFFF",ctx.fillRect(playerPosX,playerPosY,playerW,playerH)}function setBall(){isPlayig&&ctx.drawImage(ball,posX,posY,15,15)}function updateScore(){scoreLabel.innerHTML=score,$("#wrkposicionesusuarios-num_puntuacion").val(score),$(".puntuaje-usuario").text(score)}function updateVidas(){$(".live").each(function(e){var o=$(this);e+1>vidas&&(o.removeClass("ion-ios-tennisball"),o.addClass("ion-ios-tennisball-outline"))})}function iniciarVidas(){$(".live").removeClass("ion-ios-tennisball-outline"),$(".live").addClass("ion-ios-tennisball")}function init(){updateScore(),updateVidas(),setCourt()}function iniciarJuego(){$("#js-button-jugar").hide(),isPlayig||(isGameOver&&(score=0,vidas=3,iniciarVidas(),modalGameOver.style.display="none"),isGameOver=!1,initBall(),initPlayer(),isPlayig=!0,draw())}function dead(){$("#js-button-jugar").show(),console.log("dead!"),isPlayig=!1,setCourt(),setPlayer(),vidas-=1,updateVidas(),0==vidas&&gameOver()}function gameOver(){console.log("gameOver"),isGameOver=!0,modalGameOver.style.display="flex"}function movePlayer(){keys[38]&&(console.log("arriba"),playerPosY-=playerSpeed),keys[40]&&(console.log("abajo"),playerPosY+=playerSpeed),0>playerPosY&&(playerPosY=0),playerPosY>300-playerH&&(playerPosY=300-playerH)}function moveUp(){playerPosY-=playerSpeed}function moveDown(){playerPosY+=playerSpeed}function draw(){isPlayig&&setTimeout(function(){requestAnimationFrame(draw),updateScore(),movePlayer(),moveBall(),setCourt(),setBall(),setPlayer()},1e3/fps)}function moveBall(){posX+=dirX*speedX,posY+=dirY*speedY,(topBottomBorder>posY||posY>285-topBottomBorder)&&(dirY=-1*dirY),posX>585&&(dirX=-1*dirX),10>posX&&dead(),playerPosX+2*playerW>=posX&&posX>=playerPosX-playerW&&posY>=playerPosY&&playerPosY+playerH>=posY&&playerHitAction()}function playerHitAction(){playerHit=!0,dirX=1,score+=1;var e=1==Math.floor(2*Math.random())?2:-2;speedY+=e,speedX+=Math.random(),speedY>15&&(speedY=14),-15>speedY&&(speedY=-14)}function initBall(){posX=550,posY=150,dirX=-1,dirY=-1,speedX=20,speedY=10}function initPlayer(){playerH=100,playerW=10,playerPosY=0,playerPosX=80,playerSpeed=10,playerHit=!1}var c=document.getElementById("myCanvas"),ctx=c.getContext("2d"),score=0,scoreLabel=document.getElementById("score"),vidas=3,vidasLabel=document.getElementById("lives"),court=document.getElementById("court"),ball=document.getElementById("ball"),topBottomBorder=20,posX=300,posY=150,dirX=-1,dirY=-1,speedX=20,speedY=10,playerH=100,playerW=10,playerPosY=0,playerPosX=80,playerSpeed=10,playerHit=!1,keys=[],fps=15,isPlayig=!1,isGameOver=!0;window.onkeyup=function(e){keys[e.keyCode]=!1,console.log("ku "+e.keyCode)},window.onkeydown=function(e){keys[e.keyCode]=!0,console.log("kd "+e.keyCode)},$(document).ready(function(){$("#js-boton-arriba").mousedown(function(e){e.preventDefault()}),$("#js-boton-abajo").mousedown(function(e){e.preventDefault()}),$("#js-boton-arriba").on("touchstart",function(){keys[38]=!0,keys[40]=!1}),$("#js-boton-arriba").on("touchend",function(){keys[38]=!1,keys[40]=!1}),$("#js-boton-abajo").on("touchstart",function(){keys[38]=!1,keys[40]=!0}),$("#js-boton-abajo").on("touchend",function(){keys[38]=!1,keys[40]=!1}),console.log("ready!"),init(),$(".btn-volver-a-jugar").on("click",function(e){e.preventDefault()})});
//# sourceMappingURL=pong-dist.js.map